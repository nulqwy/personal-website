import{E as _,F as j,G as h,H as O,I as b,J as y,K as d,M as P,N as T,O as x,Q as A,R as I,T as D,U as F,V as M,W as B,X as N,Y as v}from"./BJn02glj.js";class ${anchor;#t=new Map;#s=new Map;#e=new Map;#o=new Set;#n=!0;constructor(s,t=!0){this.anchor=s,this.#n=t}#r=()=>{var s=_;if(this.#t.has(s)){var t=this.#t.get(s),o=this.#s.get(t);if(o)j(o),this.#o.delete(t);else{var r=this.#e.get(t);r&&(this.#s.set(t,r.effect),this.#e.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),o=r.effect)}for(const[n,a]of this.#t){if(this.#t.delete(n),n===s)break;const i=this.#e.get(a);i&&(h(i.effect),this.#e.delete(a))}for(const[n,a]of this.#s){if(n===t||this.#o.has(n))continue;const i=()=>{if(Array.from(this.#t.values()).includes(n)){var l=document.createDocumentFragment();T(a,l),l.append(b()),this.#e.set(n,{effect:a,fragment:l})}else h(a);this.#o.delete(n),this.#s.delete(n)};this.#n||!o?(this.#o.add(n),O(a,i,!1)):i()}}};#a=s=>{this.#t.delete(s);const t=Array.from(this.#t.values());for(const[o,r]of this.#e)t.includes(o)||(h(r.effect),this.#e.delete(o))};ensure(s,t){var o=_,r=x();if(t&&!this.#s.has(s)&&!this.#e.has(s))if(r){var n=document.createDocumentFragment(),a=b();n.append(a),this.#e.set(s,{effect:y(()=>t(a)),fragment:n})}else this.#s.set(s,y(()=>t(this.anchor)));if(this.#t.set(o,s),r){for(const[i,c]of this.#s)i===s?o.skipped_effects.delete(c):o.skipped_effects.add(c);for(const[i,c]of this.#e)i===s?o.skipped_effects.delete(c.effect):o.skipped_effects.add(c.effect);o.oncommit(this.#r),o.ondiscard(this.#a)}else d&&(this.anchor=P),this.#r()}}function V(e,s,t=!1){d&&I();var o=new $(e),r=t?D:0;function n(a,i){if(d){const l=F(e)===M;if(a===l){var c=B();N(c),o.anchor=c,v(!1),o.ensure(a,i),v(!0);return}}o.ensure(a,i)}A(()=>{var a=!1;s((i,c=!0)=>{a=!0,n(c,i)}),a||n(!1,null)},r)}const g="en",u=["en","uk"],E=["url"];globalThis.__paraglide={};let U=!1,m=()=>{let e;for(const s of E){if(s==="baseLocale")e=g;else if(s==="url"&&typeof window<"u")e=S(window.location.href);else if(C(s)&&f.has(s)){const t=f.get(s);if(t){const o=t.getLocale();if(o instanceof Promise)continue;e=o}}if(e!==void 0){const t=J(e);return U||(U=!0,W(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};const H=e=>{e?window.location.href=e:window.location.reload()};let W=(e,s)=>{const t={reload:!0,...s};let o;try{o=m()}catch{}const r=[];let n;for(const i of E)if(i!=="baseLocale"){if(i==="url"&&typeof window<"u")n=p(window.location.href,{locale:e}).href;else if(C(i)&&f.has(i)){const c=f.get(i);if(c){let l=c.setLocale(e);l instanceof Promise&&(l=l.catch(z=>{throw new Error(`Custom strategy "${i}" setLocale failed.`,{cause:z})}),r.push(l))}}}const a=()=>{t.reload&&window.location&&e!==o&&H(n)};if(r.length)return Promise.all(r).then(()=>{a()});a()},w=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function L(e){return typeof e!="string"?!1:e?u.some(s=>s.toLowerCase()===e.toLowerCase()):!1}function J(e){if(typeof e!="string")throw new Error(`Invalid locale: ${e}. Expected a string.`);const s=e.toLowerCase(),t=u.find(o=>o.toLowerCase()===s);if(!t)throw new Error(`Invalid locale: ${e}. Expected one of: ${u.join(", ")}`);return t}let R,k;function S(e){const s=typeof e=="string"?e:e.href;if(R===s)return k;let t;return t=Y(e),R=s,k=t,t}function Y(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const o=t[0];if(L(o))return o}return g}function p(e,s){return G(e,s)}function G(e,s){const t=typeof e=="string"?new URL(e,w()):new URL(e),o=s?.locale??m();if(S(t)===o)return t;const n=t.pathname.split("/").filter(Boolean);return n.length>0&&L(n[0])&&n.shift(),o===g?t.pathname="/"+n.join("/"):t.pathname="/"+o+"/"+n.join("/"),t}function X(e){return K(e)}function K(e){const s=typeof e=="string"?new URL(e,w()):new URL(e),t=s.pathname.split("/").filter(Boolean);return t.length>0&&L(t[0])&&(s.pathname="/"+t.slice(1).join("/")),s}function Z(e,s){const t=m(),o=s?.locale??t,r=new URL(e,w()),n=p(r,{locale:o});return e.startsWith("/")&&r.origin===n.origin?o!==t&&p(r,{locale:t}).origin!==n.origin?n.href:n.pathname+n.search+n.hash:n.href}const f=new Map;function C(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{$ as B,Z as a,X as d,m as g,V as i,u as l};
